---
title: "Teaching Reproducible Workflows"
subtitle: "Reproducible workflows are important! Tools like GitHub, Quarto, and Google Colab make reproducibility easy-ish."
format: revealjs
---


## Welcome!

::: {.important style="float: left; width: 65%;"}
**Goals:**

-   Discuss reproducible workflows

-   Implement a reproducible workflow with Git/GitHub
:::

::: {.important style="float: right; width: 30%;"}
```{r, echo = FALSE, fig.align='center', out.width = "450px"}
knitr::include_graphics("img/repro.png")
```
:::


## Let me get to know you!

Please head to this online poll:

- <a href = "https://app.wooclap.com/IOQROK?from=event-page" target = "_blank">https://app.wooclap.com/IOQROK?from=event-page</a>

```{r, echo = FALSE, fig.align='center', out.width = "450px"}
knitr::include_graphics("img/QR.png")
```

- In the downtime, say hello to the people next to you!


## Analysis/Data Science Workflow

Often

-   Read in/connect to raw data set
-   Manipulate/Combine data
-   Summarize to glean insights
-   Apply common analysis methods
-   Communicate Effectively

::: {.important style="float: right; width: 30%;"}
```{r, echo = FALSE, fig.align='center', out.width = "450px"}
knitr::include_graphics("img/works.jpg")
```
:::

## Big Issues

Pushed by [psychology](https://www.gsb.stanford.edu/faculty-research/behavioral-lab/conduct-research/pre-registration-information), journals are requiring [preregistration](https://www.cos.io/initiatives/prereg), data for submissions, and code to be available in order to reproduce studies

- We have a responsibility to help create literate, critical, ethical thinkers in this world of big data


## Big Issues

Pushed by [psychology](https://www.gsb.stanford.edu/faculty-research/behavioral-lab/conduct-research/pre-registration-information), journals are requiring [preregistration](https://www.cos.io/initiatives/prereg), data for submissions, and code to be available in order to reproduce studies

- We have a responsibility to help create literate, critical, ethical thinkers in this world of big data

> Want to document this process and make it reproducible, collaborative, and easily shared!

> Ideally, we immerse students in *modern* data practices

## A Bit About Me

::: {.important style="float: left; width: 65%;"}
-   Teaching Professor in Department of Statistics at NC State (old picture of me when I was young)
-   Love mixing computing and statistics
:::

::: {.important style="float: right; width: 30%;"}
```{r, echo = FALSE, fig.align='center', out.width = "350px"}
knitr::include_graphics("img/headshot.jpg")
```
:::

## A Bit About Me

-   Most importantly: 

Two kids!

::: {.important style="float: left; width: 50%;"}
```{r, echo = FALSE, fig.align='center', out.width = "450px"}
knitr::include_graphics("img/Louisa.jpg")
```
:::

::: {.important style="float: right; width: 50%;"}
```{r, echo = FALSE, fig.align='center', out.width = "450px"}
knitr::include_graphics("img/Walter.jpg")
```
:::

## Cooking

Louisa loves to 'cook'

::: {.important style="float: right; width: 33%;"}
```{r, echo = FALSE, fig.align='center', out.width = "450px"}
knitr::include_graphics("img/Louisa_cook.jpg")
```
:::

::: {.important style="float: right; width: 33%;"}
```{r, echo = FALSE, fig.align='center', out.width = "450px"}
knitr::include_graphics("img/Louisa_cook_2.jpg")
```
:::

::: {.important style="float: right; width: 33%;"}
```{r, echo = FALSE, fig.align='center', out.width = "450px"}
knitr::include_graphics("img/Louisa_flour.jpg")
```
:::

## Delicious Meal!

```{r, echo = FALSE, fig.align='center', out.width = "350px"}
knitr::include_graphics("img/food_good.jpg")
```

Delicious! She did it!


## Including Thoughts/Comments

Lousia has trouble remembering what she was thinking when trying her recipes! 

```{r, echo = FALSE, fig.align='center'}
knitr::include_graphics("img/Louisa_work.jpg")
```


## Fatherly Advice: Quarto

If only she'd use Quarto (or perhaps Jupyter) Notebooks!


## Fatherly Advice: Quarto

If only she'd use Quarto (or perhaps Jupyter) Notebooks!

::: {.important style="float: left; width: 50%;"}
-   Give us a way to include thoughts and comments with nice formatting
- Can output to HTML, PDF, Word, Power Point, ...
- Code can be included and output automatically embedded!
:::

::: {.important style="float: right; width: 50%;"}
```{r, echo = FALSE, fig.align='center', out.width = "450px"}
knitr::include_graphics("img/quarto.png")
```
:::

## Quarto

Designed to be used in three ways ([R for Data Science](https://r4ds.hadley.nz/quarto))

-   Communicating to decision makers (focus on conclusions not code)

-   Collaborating with other data scientists (including future you!)

-   As environment to do data science (documents what you did and what you were thinking)


## Take-Away

Have students document their thought processes and work along the way!

- Supply narratives to EDA

    - Why do we care about this awesome graph/stat you've found?

- Never give a graph/result/etc. without discussing it!

<a href = "https://go.ncsu.edu/reproducible_workflows" target ="_blank">Some example projects</a>


## Can't Make the Delicious Meal Again!

```{r, echo = FALSE, fig.align='center', out.width = "250px"}
knitr::include_graphics("img/bad_food.jpg")
```

She changed some things in the recipe and now can't get it right!

- Oh no! Lack of reproducibility!


## Fatherly Advice: Git/GitHub

If she'd just used Git/GitHub to track her past recipes, we wouldn't be in this mess!


## Fatherly Advice: Git/GitHub

If she'd just used Git/GitHub to track her past recipes, we wouldn't be in this mess!

::: {.important style="float: left; width: 45%;"}
-   Git: keeps all recipe versions without this -->
:::

::: {.important style="float: right; width: 55%;"}
```{r, echo = FALSE, fig.align='center', out.width = "350px"}
knitr::include_graphics("img/final_doc.png")
```
:::


## Git: Version Control Software

- Install git and then you associate it with a folder (repo)

    -   Git keeps track of all files in the folder (repo)
    -   If you want to keep changes you've made, you **commit** the changes
    
```{r, echo = FALSE, fig.align='center'}
knitr::include_graphics("img/git_tracking.png")
```


## Git & GitHub

-   **Git** is a version control software

-   **Github** is an online hosting service for Git-based projects

    -   Very useful for collaborating and sharing work!

```{r, echo = FALSE, fig.align='center'}
knitr::include_graphics("img/github.png")
```


## Basic Git Workflow (Individual)

1. (Initially) **clone** the repo locally.  (Later) **pull** to get most recent versions of files

2. Work and make changes

3. **add** and **commit** to changes you like

4. **push** changes to remote repo (on github)


## Technical vs Non-Technical Courses

- Installing Git & `R`/`RStudio` may or may not be feasible

- Can all be done without programming

- Can use web-based programming environments like <a href = "https://colab.research.google.com/" target = "_blank">Google Colab</a> with a `.ipynb` file



## Mixing Cuisines!

Issue: Louisa keeps getting her Chinese food recipes mixed up with her Italian recipes!

```{r, echo = FALSE, fig.align='center'}
knitr::include_graphics("img/Louisa_work_2.jpg")
```


## Fatherly Advice: R Projects

If only she'd use R projects!

## Fatherly Advice: R Projects

If only she'd use R projects!

::: {.important style="float: left; width: 50%;"}
- Basically a file that gets associated with a folder (repo)

- Maintains a working directory, history, environment, etc.

- Easy to switch between projects!
:::

::: {.important style="float: right; width: 50%;"}
```{r, echo = FALSE, fig.align='center', out.width = "350px"}
knitr::include_graphics("img/R_project.png")
```
:::

## R Projects

R projects provide a straightforward way to divide your work into multiple contexts. Each with their own:

-   Working directory
-   Workspace (environment with stored data/objects)
-   History
-   Folder structure & source documents

> -   Can be used outside of git/github
> - Spyder IDE for python has similar functionality


## Sharing Recipes

Louisa wants to share her delicious recipes with her friends! 

```{r, echo = FALSE, fig.align='center'}
knitr::include_graphics("img/Louisa_Cora.jpg")
```

## Fatherly Advice: Use Quarto & Github

If only she'd use Quarto with GitHub!


## Fatherly Advice: Use Quarto & Github

If only she'd use Quarto with GitHub!

-   Easy way to **collaborate** and share **results** 

- Can simply store code on git/github or include output from quarto

- Quarto can easily(-ish) create a webpage on github!


## List of Tools

- Git: Version control software
- GitHub: Online platform for using git/collaborating
- R Project: Keep analysis in its own context
- Quarto: Integrate text and code to create useful output docs

## List of Tools

- Git: Version control software
- GitHub: Online platform for using git/collaborating
- R Project: Keep analysis in its own context
- Quarto: Integrate text and code to create useful output docs


- [Google Colab](https://colab.research.google.com/) - web based way to program in python and R 

    - Can use with github
    - Some functionality similar to quarto
    



## Practice!

- Sign up for github account
- Create a repo
- Make some changes! Check version control


## Practice!

- Sign up for github account
- Create a repo
- Make some changes! Check version control
- <https://app.wooclap.com/PAOXSP>

```{r, echo = FALSE, fig.align='center', out.width = "450px"}
knitr::include_graphics("img/QR.png")
```

Websites

## Recap

Reproducibility means:

- Entire analysis can be redone from start to finish

    - Git enables us to do version control
    - GitHub enables us to collaborate and share

- Code should be documented with thought process

    - Quarto or Jupyter Notebooks allow for interweaving of text and code
    
- R projects are great for separating analyses

## Questions/Contact

- `justin_post@ncsu.edu`

- <https://go.ncsu.edu/reproducibility>

- Special thanks to Louisa

```{r, echo = FALSE, fig.align='center', out.width = "500px"}
knitr::include_graphics("img/Louisa_eat.jpg")
```



rtutor.ai 

do the weights differ by diet?
this doesn't take into account time. How do we do that?

create a spaghetti plot of chick weights by diet over time. 
then -> Add lines for the mean of each diet group.

Then grab markdown report



How: Appropriate and informed use of AI
https://www.psychiatrist.com/news/neda-suspends-ai-chatbot-for-giving-harmful-eating-disorder-advice/

Have the conversations
Share the examples 
Teach as a tool vs truth

AI as an aide
AI mistake example


<!--## Abstract

The reproducibility crisis has been a huge issue across the sciences. As statisticians, data analysts, and practitioners of statistics and data science we can do our part by ensuring that the data wrangling and analysis done is documented and reproducible. This session discusses the importance of teaching students the framework of reproducible workflows along with common technologies that make the process (mostly) painless. 
-->